<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>Update to Protected Branches API Preview | GitHub Developer Guide</title>
  <meta property="og:url" content="http://developer.github.com/changes/2016-06-27-protected-branches-api-update/" />
<meta property="og:site_name" content="GitHub Developer" />
<meta property="og:title" content="Update to Protected Branches API Preview" />
<meta property="og:description" content="Get started with one of our guides, or jump straight into the API documentation." />
<meta property="og:type" content="website" />
<meta property="og:author" content="https://www.facebook.com/GitHub" />
<meta property="og:image" content="http://og.github.com/logo/github-logo@1200x1200.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="1200" />
<meta property="og:image" content="http://og.github.com/mark/github-mark@1200x630.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image" content="http://og.github.com/octocat/github-octocat@1200x630.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:site" content="@github" />
<meta property="twitter:site:id" content="13334762" />
<meta property="twitter:creator" content="@githubapi" />
<meta property="twitter:creator:id" content="@539153822" />
<meta property="twitter:title" content="Leverage the power of GitHub in your app" />
<meta property="twitter:description" content="Get started with one of our guides, or jump straight into the API documentation." />
<meta property="twitter:image:src" content="http://og.github.com/logo/github-logo@1200x1200.png" />
<meta property="twitter:image:width" content="1200" />
<meta property="twitter:image:height" content="1200" />
  
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  
  <link href="/assets/stylesheets/application.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="/assets/javascripts/application.js" type="text/javascript"></script>
  
</head>


<body class="blog">
  

<div id="header-wrapper">
  <div id="header">
    <div>
      <a class="logo" href="/">GitHub:Developer</a>
      <ul class="nav">
        
        <li><a href="/v3/" class="nav-api">API</a></li>
        <li><a href="/program/" class="nav-developers">Developers</a></li>
        <li><a href="/changes/" class="nav-blog">Blog</a></li>
        <li><a href="https://github.com/contact">Support</a></li>
        <li id="search-container">
          <input type="text" id="searchfield" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" /><label class="search-placeholder">Search</label>
          <div class="cancel-search"></div>
          <ul id="search-results">

          </ul>
        </li>
      </ul>
    </div>
  </div><!-- #header -->
</div><!-- #header-wrapper -->


  <div id="wrapper">
    <div class="content">
      <div class="change" id="/changes/2016-06-27-protected-branches-api-update/">
<h2 class="title">
  <a href="/changes/2016-06-27-protected-branches-api-update/">Update to Protected Branches API Preview</a>
</h2>

<div class="meta">
  <ul>
  <li class="published">
    <span class="octicon octicon-calendar"></span>
    June 27, 2016
    
  </li>
  <li class="who_when">
    <img height="16" width="16" src="https://github.com/tma.png" alt="Avatar for tma" data-proofer-ignore/>
      <a href="https://github.com/tma" data-proofer-ignore>tma</a>
  </li>
</ul>
</div>


<p>Over the past few months, we've made a few <a href="https://github.com/blog/2137-protected-branches-improvements">improvements</a> to the way <a href="https://github.com/blog/2051-protected-branches-and-required-status-checks">protected branches</a> work in our web interface. Today, we're modifying the protected branches API <a href="https://developer.github.com/changes/2015-11-11-protected-branches-api/">preview period</a> to include these improvements.</p>

<p>Included in these API changes is the ability to allow organizations to specify which members and teams should be able to push to a protected branch, as well as providing a new setting for required status checks which will remove the requirement of a pull request to be up to date before merging.</p>

<p>You'll notice a new endpoint structure. One set of endpoints for modifying the branch settings as a whole (<code>PATCH /repos/:owner/:repo/branches/:branch</code> has been updated to be <code>PUT /repos/:owner/:repo/branches/:branch/protection</code>), and a series of more granular endpoints to modify a subset of the branch protection settings.</p>

<p><strong>This will be a breaking change for the protected branch API.</strong> The deprecated API endpoint will be removed when the protected branches API will leave the preview period. If you're trying out the old protected branches API, you'll need to update your code.</p>

<h4>
<a id="how-can-i-try-it" class="anchor" href="#how-can-i-try-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How can I try it?</h4>

<p>To access this functionality during the preview period, youâ€™ll need to provide the following custom media type in the Accept header:</p>

<pre><code>application/vnd.github.loki-preview+json
</code></pre>

<p>Take a look at <a href="/v3/repos/branches/">the docs here</a>. If you have any questions, please <a href="https://github.com/contact?form%5Bsubject%5D=Protected+Branches+API+Preview">get in touch</a>.</p>
</div>

    </div>

    <div class="sidebar-shell">
        <h2>Recent Posts</h2>
<ul class="headlines sidebar-module">

  <li><a href="/changes/2016-08-23-change-base/">API changes for changing the base branch on Pull Requests<br /><span class="date">August 23, 2016</span></a></li>

  <li><a href="/changes/2016-08-15-traffic-api-preview/">Preview the Repository Traffic API<br /><span class="date">August 15, 2016</span></a></li>

  <li><a href="/changes/2016-08-09-breaking-change-removed-sensitive-fields-from-organization-api-responses-for-owner/">Breaking change: Removed sensitive fields from Organization API responses for non-owners<br /><span class="date">August 9, 2016</span></a></li>

  <li><a href="/changes/2016-07-12-ending-multiple-assignees-preview-period/">Multiple Assignees API is now official<br /><span class="date">July 12, 2016</span></a></li>

  <li><a href="/changes/2016-07-06-github-pages-preview-api/">Introducing the GitHub Pages preview API<br /><span class="date">July 6, 2016</span></a></li>

  <li><a href="/changes/2016-06-27-protected-branches-api-update/">Update to Protected Branches API Preview<br /><span class="date">June 27, 2016</span></a></li>

  <li><a href="/changes/2016-06-22-issue-locking-api-is-now-official/">Issue locking and unlocking APIs are now official<br /><span class="date">June 22, 2016</span></a></li>

  <li><a href="/changes/2016-06-14-repository-invitations/">API changes for Repository Invitations<br /><span class="date">June 14, 2016</span></a></li>

</ul>


        <div class="sidebar-module notice"><a class="rss-subscribe" href="/changes.atom">Subscribe to the RSS feed</a></div>
    </div>
  </div>

    <div id="footer" >
    <div class="lower_footer">
      <ul class="footer-cell">
        <li><a href="https://github.com/github/developer.github.com#licenses">&copy; 2018 GitHub, Inc.</a></li>
        <li><a href="https://help.github.com/terms-of-service/">Terms</a></li>
        <li><a href="https://help.github.com/privacy-policy/">Privacy</a></li>
        <li><a href="https://help.github.com/security/">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
      </ul>

      <span class="footer-cell">
        <a href="https://github.com" class="mega-octicon octicon-mark-github"></a>
      </span>

      <ul class="footer-cell">
        <li><a href="https://status.github.com/">Status</a></li>
        <li><a href="http://training.github.com/">Training</a></li>
        <li><a href="http://shop.github.com/">Shop</a></li>
        <li><a href="https://github.com/blog">Blog</a></li>
        <li><a href="https://github.com/about">About</a></li>
      </ul>
    </div>

  </div><!-- /#footer -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3769691-37', 'github.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
